<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>isaque@portfolio:~</title>
    <link href="css/normalize.css" rel="stylesheet" type="text/css" />
    <script
      src="https://ajax.googleapis.com/ajax/libs/webfont/1.6.26/webfont.js"
      type="text/javascript"
    ></script>
    <script type="text/javascript">
      WebFont.load({
        google: { families: ["JetBrains Mono:200,300,regular,500,600,700"] },
      });
    </script>
    <style>
      :root {
        --term-bg: #0d0d0d;
        --term-color: #33ff00;
        --term-dim: #1a8000;
        --term-cursor: #33ff00;
      }

      body {
        background-color: var(--term-bg);
        color: var(--term-color);
        font-family: "JetBrains Mono", monospace;
        margin: 0;
        padding: 20px;
        height: 100vh;
        box-sizing: border-box;
        overflow: hidden;
        text-shadow: 0 0 5px rgba(51, 255, 0, 0.5);
      }

      /* CRT Scanline Effect */
      body::before {
        content: " ";
        display: block;
        position: absolute;
        top: 0;
        left: 0;
        bottom: 0;
        right: 0;
        background: linear-gradient(
            rgba(18, 16, 16, 0) 50%,
            rgba(0, 0, 0, 0.25) 50%
          ),
          linear-gradient(
            90deg,
            rgba(255, 0, 0, 0.06),
            rgba(0, 255, 0, 0.02),
            rgba(0, 0, 255, 0.06)
          );
        z-index: 2;
        background-size: 100% 2px, 3px 100%;
        pointer-events: none;
      }

      #terminal {
        max-width: 800px;
        margin: 0 auto;
        height: 100%;
        display: flex;
        flex-direction: column;
        position: relative;
        z-index: 1;
      }

      #output {
        flex-grow: 1;
        overflow-y: auto;
        padding-bottom: 20px;
        scrollbar-width: none; /* Firefox */
      }

      #output::-webkit-scrollbar {
        display: none; /* Chrome/Safari */
      }

      .line {
        margin-bottom: 5px;
        line-height: 1.5;
        white-space: pre-wrap;
      }

      .command-line {
        display: flex;
        align-items: center;
      }

      .prompt {
        color: var(--term-color);
        margin-right: 10px;
        font-weight: bold;
      }

      #input-field {
        background: transparent;
        border: none;
        color: var(--term-color);
        font-family: "JetBrains Mono", monospace;
        font-size: 16px;
        flex-grow: 1;
        outline: none;
        text-shadow: 0 0 5px rgba(51, 255, 0, 0.5);
        caret-color: var(--term-cursor);
      }

      .clickable {
        cursor: pointer;
        text-decoration: underline;
        color: #fff;
      }

      .clickable:hover {
        background-color: var(--term-color);
        color: var(--term-bg);
        text-decoration: none;
      }

      .project-row {
        display: flex;
        justify-content: space-between;
        padding: 5px 0;
        border-bottom: 1px dashed var(--term-dim);
      }

      .project-row:hover {
        background-color: rgba(51, 255, 0, 0.1);
      }

      .ascii-art {
        font-size: 10px;
        line-height: 10px;
        color: var(--term-dim);
        margin: 20px 0;
      }

      @media (max-width: 600px) {
        body {
          padding: 10px;
          font-size: 14px;
        }
        #input-field {
          font-size: 14px;
        }
      }
    </style>
  </head>
  <body>
    <div id="terminal">
      <div id="output"></div>
      <div class="command-line">
        <span class="prompt">visitor@isaque.me:~$</span>
        <input type="text" id="input-field" autocomplete="off" autofocus />
      </div>
    </div>

    <script>
      const output = document.getElementById("output");
      const input = document.getElementById("input-field");
      const terminal = document.getElementById("terminal");

      const projects = [
        {
          id: "heineken",
          title: "HEINEKEN PHONE",
          type: "STRATEGY",
          url: "phone.html",
        },
        {
          id: "rogers",
          title: "ROGERS ICE",
          type: "CREATIVE",
          url: "ice.html",
        },
        {
          id: "megatable",
          title: "MEGA TABLE",
          type: "PRODUCT",
          url: "megatable.html",
        },
        { id: "mysig", title: "MY-SIG", type: "UX/DEV", url: "mysig.html" },
        {
          id: "barxp",
          title: "BAR EXPERIENCE",
          type: "BRANDING",
          url: "barxp.html",
        },
        {
          id: "wine",
          title: "WINEPOPPER",
          type: "STRATEGY",
          url: "open-wine-like-magic.html",
        },
        { id: "fridge", title: "FRIDGE", type: "CREATIVE", url: "fridge.html" },
        {
          id: "feed",
          title: "FEED PEEK",
          type: "ACTIVISM",
          url: "feed-peek.html",
        },
      ];

      const bootSequence = [
        "Initializing Isaque Seneda Portfolio v2025...",
        "Loading assets... [OK]",
        "Mounting strategy module... [OK]",
        "Compiling creative concepts... [OK]",
        "Starting dev server... [OK]",
        " ",
        "Welcome to the terminal interface.",
        "Type 'help' for available commands or click on links.",
        " ",
      ];

      let history = [];
      let historyIndex = -1;

      function print(text, isHtml = false) {
        const line = document.createElement("div");
        line.className = "line";
        if (isHtml) {
          line.innerHTML = text;
        } else {
          line.textContent = text;
        }
        output.appendChild(line);
        output.scrollTop = output.scrollHeight;
      }

      function boot() {
        let delay = 0;
        bootSequence.forEach((line, index) => {
          setTimeout(() => print(line), delay);
          delay += 100 + Math.random() * 200;
        });
        setTimeout(() => {
          print(
            "Available commands: <span class='clickable' onclick='runCommand(\"list\")'>list</span>, <span class='clickable' onclick='runCommand(\"about\")'>about</span>, <span class='clickable' onclick='runCommand(\"contact\")'>contact</span>, <span class='clickable' onclick='runCommand(\"clear\")'>clear</span>",
            true
          );
        }, delay);
      }

      function runCommand(cmd) {
        const command = cmd.trim().toLowerCase();
        print(`visitor@isaque.me:~$ ${cmd}`);

        switch (command) {
          case "help":
            print("Commands: list, about, contact, clear, open [id]");
            break;
          case "ls":
          case "list":
          case "projects":
            print("--- PROJECT DIRECTORY ---");
            let html = "";
            projects.forEach((p) => {
              html += `<div class="project-row clickable" onclick="window.location.href='${
                p.url
              }'">
                            <span>${p.id.padEnd(12)}</span>
                            <span>${p.title.padEnd(20)}</span>
                            <span>[${p.type}]</span>
                        </div>`;
            });
            print(html, true);
            print("Click a project to open or type 'open [id]'");
            break;
          case "about":
            print("Isaque Seneda");
            print("Strategist + Creative + Developer");
            print("Based in Amsterdam, NL.");
            print(
              "Crafting meaningful experiences at the intersection of brand, product, and code."
            );
            print(
              "<a href='about.html' class='clickable'>[View Full About Page]</a>",
              true
            );
            break;
          case "contact":
            print("Email: hello@isaque.me");
            print(
              "<a href='mailto:hello@isaque.me' class='clickable'>[Send Email]</a>",
              true
            );
            break;
          case "clear":
            output.innerHTML = "";
            break;
          default:
            if (command.startsWith("open ")) {
              const id = command.split(" ")[1];
              const project = projects.find((p) => p.id === id);
              if (project) {
                print(`Opening ${project.title}...`);
                setTimeout(() => (window.location.href = project.url), 500);
              } else {
                print(
                  `Error: Project '${id}' not found. Type 'list' to see available projects.`
                );
              }
            } else if (command === "") {
              // do nothing
            } else {
              print(
                `Command not found: ${command}. Type 'help' for assistance.`
              );
            }
        }
        input.value = "";
        output.scrollTop = output.scrollHeight;
      }

      input.addEventListener("keydown", (e) => {
        if (e.key === "Enter") {
          const cmd = input.value;
          history.push(cmd);
          historyIndex = history.length;
          runCommand(cmd);
        } else if (e.key === "ArrowUp") {
          e.preventDefault();
          if (historyIndex > 0) {
            historyIndex--;
            input.value = history[historyIndex];
          }
        } else if (e.key === "ArrowDown") {
          e.preventDefault();
          if (historyIndex < history.length - 1) {
            historyIndex++;
            input.value = history[historyIndex];
          } else {
            historyIndex = history.length;
            input.value = "";
          }
        }
      });

      // Focus input when clicking anywhere
      document.addEventListener("click", (e) => {
        if (!e.target.classList.contains("clickable")) {
          input.focus();
        }
      });

      boot();
    </script>
  </body>
</html>
